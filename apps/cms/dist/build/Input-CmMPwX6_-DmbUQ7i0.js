import{r as s,j as t,B as f,e as x,aX as o,G as h,_ as y,$ as p}from"./strapi-BFIgV8L0.js";import{u as E}from"./index-DUSZU84N.js";function v({name:r,error:I,description:M,onChange:g,value:n,intlLabel:N,attribute:j}){const{formatMessage:a}=E(),[u,m]=s.useState([]),[c,i]=s.useState(n?n.split("|")[0]:""),[d,S]=s.useState(n?n.split("|")[1]:3),{optionsSortBy:b}=j,C=s.useCallback(async()=>{const e=await fetch("/collection-type-select/collection-types",{method:"GET",headers:{"Content-Type":"application/json"}});try{if(!e.ok)throw new Error(`Error! status: ${e.status}`);const l=await e.json();m(l)}catch(l){console.error(l)}},[]);s.useEffect(()=>{C()},[]),s.useEffect(()=>{g({target:{name:r,type:"string",value:`${c}|${d}|${b}`}})},[c,d]);const w=e=>{i(e)},$=e=>{S(e)};return u?t.jsxs(f,{spacing:1,style:{width:"100%"},children:[t.jsx(x,{fontWeight:"bold",children:a({id:`${o}.title`,defaultMessage:"Select latest teasers from content-type"})}),t.jsx(f,{paddingBottom:4,children:t.jsx(x,{children:a({id:`${o}.description`,defaultMessage:"Select the content-type to display the latest teasers from"})})}),t.jsxs(h.Root,{children:[t.jsx(h.Item,{col:8,xs:12,s:6,children:t.jsxs(y,{width:"100%",value:c,name:r,label:"Content-type",onChange:e=>w(e),onClear:()=>i(""),style:{width:"100%"},children:[t.jsx(p,{value:"",children:a({id:`${o}.blank`,defaultMessage:"Select a collection type, leave blank for all"})}),u.map((e,l)=>t.jsx(p,{value:e.id,children:e.name},l))]})}),t.jsx(h.Item,{col:4,xs:12,s:6,children:t.jsx(y,{style:{width:"100%"},width:"100%",value:d,defaultValue:3,name:r,label:a({id:`${o}.quantity`,defaultMessage:"Number of teasers"}),onChange:e=>$(e),onClear:()=>i(""),children:[1,2,3,4,5,6].map(e=>t.jsx(p,{value:e,children:e},e))})})]})]}):t.jsx(t.Fragment,{})}export{v as default};
